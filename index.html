<!DOCTYPE html>
<html lang="mn">
<head>
<meta charset="UTF-8">
<title>Dodger Game</title>
<h1>MC-1 Erkhembayr</h1>
<style>
  body {
    background: #111;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  #game {
    position: relative;
    width: 400px;
    height: 500px;
    background: #eee;
    overflow: hidden;
    border-radius: 10px;
  }

  #player {
    position: absolute;
    bottom: 10px;
    left: 180px;
    width: 40px;
    height: 40px;
    background: blue;
    border-radius: 5px;
  }

  .fall {
    position: absolute;
    top: -40px;
    width: 40px;
    height: 40px;
    background: red;
    border-radius: 5px;
  }

  #score {
    position: absolute;
    top: 10px;
    left: 10px;
    font-size: 18px;
  }
</style>
</head>
<body>

<div id="game">
  <div id="score">Оноо: 0</div>
  <div id="player"></div>
</div>

<script>
const game = document.getElementById("game");
const player = document.getElementById("player");
const scoreEl = document.getElementById("score");

let playerX = 180;
let score = 0;
let speed = 3;
let gameOver = false;

// Тоглогч хөдөлгөх
document.addEventListener("keydown", e => {
  if (gameOver) return;
  if (e.key === "ArrowLeft" && playerX > 0) playerX -= 20;
  if (e.key === "ArrowRight" && playerX < 360) playerX += 20;
  player.style.left = playerX + "px";
});

// Унаж буй зүйл үүсгэх
function createFall() {
  if (gameOver) return;
  const fall = document.createElement("div");
  fall.classList.add("fall");
  fall.style.left = Math.random() * 360 + "px";
  game.appendChild(fall);

  let y = -40;

  const interval = setInterval(() => {
    if (gameOver) {
      clearInterval(interval);
      fall.remove();
      return;
    }

    y += speed;
    fall.style.top = y + "px";

    // мөргөлдөөн шалгах
    const fRect = fall.getBoundingClientRect();
    const pRect = player.getBoundingClientRect();

    if (
      fRect.bottom > pRect.top &&
      fRect.top < pRect.bottom &&
      fRect.left < pRect.right &&
      fRect.right > pRect.left
    ) {
      gameOver = true;
      alert(" Game Over! Оноо: " + score);
      location.reload();
    }

    if (y > 500) {
      score++;
      scoreEl.textContent = "Оноо: " + score;
      fall.remove();
      clearInterval(interval);
    }

  }, 20);
}

// Тоглоом эхлүүлэх
setInterval(createFall, 1000);
</script>

</body>
</html>